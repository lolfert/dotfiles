!function(e){function t(t){for(var n,i,s=t[0],p=t[1],c=t[2],l=0,u=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&u.push(a[i][0]),a[i]=0;for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(e[n]=p[n]);for(d&&d(t);u.length;)u.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var p=r[s];0!==a[p]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={16:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],p=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=p;o.push([352,1]),r()}({194:function(e,t,r){},298:function(e,t,r){"use strict";var n=r(194);r.n(n).a},352:function(e,t,r){"use strict";r.r(t);r(3);var n=r(45),a=r(5),o=(r(75),r(0)),i=r.n(o),s=r(25),p=r(1),c={components:{[s.a.name]:s.a},data:function(){return{dataLoaded:!1,showSpinner:!1,dropState:!1,dropEnabled:!1,error:"",task:null}},methods:{getText:p.q,handleFiles:async function(e,t){let r;if("input"===t?r=e.target.files:"drop"===t?r=e.dataTransfer.files:"paste"===t&&(r=e.clipboardData.files),r.length>3)return i.a.runtime.sendMessage({id:"notification",messageId:"error_invalidImageCount"}),void("drop"===t&&(this.dropState=!1));const n=[];for(let e of r){const{dataUrl:t,type:r,ext:o}=await Object(a.p)({blob:e});if(t){const i=Object(a.o)({filename:e.name,ext:o});n.push({imageDataUrl:t,imageFilename:i,imageType:r,imageExt:o,imageSize:e.size})}}n.length>0?(i.a.runtime.sendMessage({id:"imageUploadSubmit",images:n,task:this.task}),this.showSpinner=!0):i.a.runtime.sendMessage({id:"notification",messageId:"error_invalidImageFile"}),"drop"===t&&(this.dropState=!1)}},created:async function(){document.title=Object(p.q)("pageTitle",[Object(p.q)("pageTitle_browse"),Object(p.q)("extensionName")])},mounted:async function(){const e=new URL(window.location.href).searchParams.get("session"),t=await i.a.runtime.sendMessage({id:"storageRequest",asyncResponse:!0,saveReceipt:!0,storageKey:e});t?(this.task=t,this.$nextTick(()=>this.$refs.dropZone.focus())):this.error=Object(p.q)("error_invalidPageUrl"),await Object(p.r)()||(this.dropEnabled=!0),this.dataLoaded=!0}},d=(r(298),r(20)),l=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.dataLoaded?r("div",{attrs:{id:"app"}},[r("input",{directives:[{name:"show",rawName:"v-show",value:e.dropEnabled&&!e.showSpinner&&!e.error,expression:"dropEnabled && !showSpinner && !error"}],ref:"dropZone",staticClass:"drop-zone",on:{cut:function(e){e.preventDefault()},copy:function(e){e.preventDefault()},paste:function(t){return t.preventDefault(),e.handleFiles(t,"paste")},drop:function(t){return t.preventDefault(),e.handleFiles(t,"drop")},dragenter:function(t){t.preventDefault(),e.dropState=!0},dragexit:function(t){t.preventDefault(),e.dropState=!1},dragend:function(t){t.preventDefault(),e.dropState=!1},dragover:function(e){e.preventDefault()}}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showSpinner&&!e.error,expression:"!showSpinner && !error"}],staticClass:"drop-zone-content"},[r("img",{staticClass:"drop-zone-icon",attrs:{src:"/src/icons/browse/drop-zone-"+(e.dropState?"drop":"drag")+".svg"}}),e._v(" "),r("div",{staticClass:"drop-zone-text"},[e._v("\n      "+e._s(e.dropEnabled?e.getText("pageContent_browse_"+(e.dropState?"drop":"drag")):e.getText("pageContent_browse"))+"\n    ")]),e._v(" "),r("div",{staticClass:"browse-button-wrap"},[r("input",{ref:"input",staticClass:"image-input",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:function(t){return e.handleFiles(t,"input")}}}),e._v(" "),r("v-button",{directives:[{name:"show",rawName:"v-show",value:!e.dropState,expression:"!dropState"}],staticClass:"browse-button",attrs:{outlined:"",label:e.getText("buttonText_browse")},on:{click:function(t){return e.$refs.input.click()}}})],1)]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showSpinner&&!e.error,expression:"showSpinner && !error"}],staticClass:"sk-rotating-plane"}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}]},[r("div",{staticClass:"error-icon"},[e._v(":/")]),e._v(" "),r("div",{staticClass:"error-text"},[e._v(e._s(e.error))])])]):e._e()}),[],!1,null,null,null).exports;!async function(){await Object(a.b)();try{await document.fonts.load("400 14px Roboto"),await document.fonts.load("500 14px Roboto")}catch(e){}new n.a({el:"#app",render:e=>e(l)})}()}});