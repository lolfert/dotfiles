"use strict";var touchTarget={node:null,dx:0,dy:0,ux:0,uy:0},pointerCss=null,handleTouch=!1;function saveTouchTarget(a){touchTarget.ux=a.pageX,touchTarget.uy=a.pageY,touchTarget.node=a.composedPath()[0]}function onMouseDown(a){handleTouch&&(touchTarget.dx=a.pageX,touchTarget.dy=a.pageY)}function onClick(a){var b=Math.abs;handleTouch&&(saveTouchTarget(a),24>=b(touchTarget.dx-touchTarget.ux)&&24>=b(touchTarget.dy-touchTarget.uy)&&(a.preventDefault(),a.stopImmediatePropagation(),chrome.runtime.sendMessage({id:"routeMessage",setSenderFrameId:!0,messageFrameId:0,message:{id:"messageView",message:{id:"imageSelectionSubmit"},flattenMessage:!0}})))}function addTouchListener(){handleTouch=!0}function removeTouchListener(){handleTouch=!1}function showPointer(){pointerCss||(pointerCss=document.createElement("link"),pointerCss.href=chrome.extension.getURL("/src/select/pointer.css"),pointerCss.rel="stylesheet",document.head.appendChild(pointerCss))}function hidePointer(){pointerCss&&(pointerCss.remove(),pointerCss=null)}window.addEventListener("contextmenu",saveTouchTarget,{capture:!0,passive:!0}),window.addEventListener("mousedown",onMouseDown,{capture:!0,passive:!0}),window.addEventListener("click",onClick,{capture:!0,passive:!1});